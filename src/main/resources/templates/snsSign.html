<!doctype html>
<html lang="ko-kr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" type="image/x-icon" href="/images/saeil.ico">
    <title>회원가입(학생/선생님)</title>
    <head th:replace="~{/frags/import::importfrag}"></head>
</head>
<style>
    html,
    body {
        height: 100%;
        background-color: #fafafa;
        padding-top: 70px;
    }

    .student-sec, .teacher-sec {
        width: 145px;
        height: 180px;
        margin: 20px;
        text-align: center;
    }

    .btn {
        font-size: 17px !important;
        width: 145px !important;
        border-radius: 0px 0px !important;
    }

    .btn-outline-primary:hover {
        color: white !important;
    }
</style>
<body>
<form th:action="@{/snsSignup}" th:object="${memberSnsSignUpDTO}" method="get">
    <input type="hidden" th:field="*{path}" name="path">
    <input type="hidden" th:field="*{memberIdx}" name="memberIdx">
    <input type="hidden" th:field="*{loginId}" name="loginId">
    <input type="hidden" th:field="*{email}" name="email">
</form>


<main class="container w-100 m-auto">
    <h1 class="h3 mb-3 fw-normal text-center">회원 유형을 선택해 주세요.</h1>

    <div class="d-flex justify-content-center">
        <!-- 학생 -->
        <div class="student-sec">
            <img src="/images/student.png" alt="student">
            <button class="mt-3 btn btn-outline-primary studentBtn"><b>학생</b></button>
        </div>

        <!-- 선생님 -->
        <div class="teacher-sec">
            <img src="/images/teacher.png" alt="teacher">
            <button class="mt-3 btn btn-outline-primary teacherBtn"><b>선생님</b></button>
        </div>
    </div>
</main>


<script th:inline="javascript">

    $(document).ready(function () {
        // path 값 가져오기
        let path = [[${memberSnsSignUpDTO.path}]];

        // form 객체 생성
        let actionForm = $('form');

        // type 처리를 위한 input 요소를 생성
        let typeInput = document.createElement('input');

        // student button 처리
        $(".studentBtn").click(function () {
            // type 처리
            typeInput.type = 'hidden';
            typeInput.name = 'type';
            typeInput.value = 'student';

            actionForm.append(typeInput);
            actionForm.submit();
        });

        // teacher button 처리
        $(".teacherBtn").click(function () {
            // type 처리
            typeInput.type = 'hidden';
            typeInput.name = 'type';
            typeInput.value = 'teacher';

            actionForm.append(typeInput);
            actionForm.submit();
        });

    });
</script>
</body>
</html>